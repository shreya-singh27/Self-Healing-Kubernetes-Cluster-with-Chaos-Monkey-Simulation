groups:
  - name: flask-app-alerts
    rules:
      - alert: FlaskAppDown
        expr: up{job="flask-app"} == 0
        for: 10s
        labels:
          severity: critical
        annotations:
          summary: "Flask App is down"
          description: "The Flask app is not responding for more than 10 seconds."

      - alert: ChaosPodRestarting
        expr: changes(process_start_time_seconds{app="chaos-app"}[1m]) > 0
        for: 1m
        labels:
          severity: warning
        annotations:
          summary: "Chaos App restarted"
          description: "The Chaos Pod has restarted within the last 1 minute."

